package org.verapdf.model.xmplayer;

import org.verapdf.model.baselayer.Object;
import java.util.List;

% Parent type for all XMP objects
type XMPObject extends Object {
    
}

% XMP package
type XMPPackage extends XMPObject {
    % collection of all properties
    link Properties: XMPProperty*;
    %
    link ExtensionSchemaContainers: ExtensionSchemaContainer*;

    % true if metadata has right prefix and parsed with prefix determined encoding
    property isMetadataParsed: Boolean;
    % true if metadata is well formed xmp package
    property isWellFormedXMP: Boolean;
    %
    property doesContainsMultiplyProperties: Boolean;
	% bytes attribute in header, null if it is not present
    property bytes: String;
    % encoding attribute in header, null if it is not present
    property encoding: String;
    % property id of the xpacket preprocessing instruction
    property xpacketid: String;
    % true if all child description nodes to rdf node has attribute about
    property isAboutPresentAndEquals: Boolean;
}

% Main XMP package
% We don't validate correspondence between info dictionary entries
% and xmp properties here - this is validated in CosDocument object
type XMPMainPackage extends XMPPackage {
    %
    link Identification: PDFAIdentification;
}

%
type ExtensionObject: extends XMPObject {
	%
	property isValueTypeCorrect: Boolean;
	%
	property prefix: String;
}

%
type ExtensionSchemaContainer extends XMPObject {
	%
	link ExtensionSchemaDefinitions: ExtensionSchemaDefinition*;
}

%
type ExtensionSchemaDefinition extends XMPObject {
	%
	link ExtensionSchemaProperties: ExtensionSchemaProperty*;
	%
	link ExtensionSchemaValueTypes: ExtensionSchemaValueType*;

	%
	property isNamespaceURIPropertyCorrect: Boolean;
	%
    property isPrefixPropertyCorrect: Boolean;
    %
    property isPropertiesPropertyCorrect: Boolean;
    %
    property isSchemaPropertyCorrect: Boolean;
    %
    property isValueTypesPropertyCorrect: Boolean;
}

%
type ExtensionSchemaProperty extends ExtensionObject {
	%
    property isCategoryPropertyCorrect: Boolean;
    %
    property isDescriptionPropertyCorrect: Boolean;
    %
    property isNamePropertyCorrect: Boolean;
    %
    property isValueTypePropertyCorrect: Boolean;
}

%
type ExtensionSchemaValueType extends ExtensionObject {
	%
	link ExtensionSchemaFields: ExtensionSchemaField*;

	%
	property isDescriptionPropertyCorrect: Boolean;
	%
	property isFieldPropertyCorrect: Boolean;
	%
	property isNamespaceURIPropertyCorrect: Boolean;
	%
	property isPrefixPropertyCorrect: Boolean;
	%
	property isTypePropertyCorrect: Boolean;
}

%
type ExtensionSchemaField extends ExtensionObject {
	%
	property isDescriptionPropertyCorrect: Boolean;
	%
	property isNamePropertyCorrect: Boolean;
	%
	property isValueTypePropertyCorrect: Boolean;
}

type PDFAIdentification extends XMPObject {
	% property part of PDF/A Identification schema
    property part: Integer;
    % property conformance of PDF/A Identification schema
    property conformance: String;

    %
    property partPrefix: String;
    %
    property conformancePrefix: String;
    %
    property amdPrefix: String;
    %
    property corrPrefix: String;
}

% XMP property
type XMPProperty extends XMPObject {
    % true if this property is predefined (available in predefined schema) for PDF/A-1
    property isPredefinedForPDFA_1: Boolean;
    % true if this property is predefined (available in predefined schema) for PDF/A-2 or for PDF/A-3
    property isPredefinedForPDFA_2_3: Boolean;
    % true if this property defined in extension schema in current XMP package
    property isDefinedInCurrentPackage: Boolean;
    % true if this property defined in extension schema in main XMP package
    property isDefinedInMainPackage: Boolean;
    % true if the property value type corresponds to the type defined by XMP specification or extension schema
    property isValueTypeCorrect: Boolean;
}